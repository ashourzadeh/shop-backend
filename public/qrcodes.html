<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ“„ Ú†Ø§Ù¾ QR Ù…Ø­ØµÙˆÙ„Ø§Øª</title>
  <link rel="icon" href="ico/favicon.ico" type="image/x-icon">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#000000">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <link href="style/style.css" rel="stylesheet">
  <!-- Ø¯Ø± head -->
<link rel="stylesheet" href="assets/css/menu.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

  <style>
body { background: #f5f6fa; }
.container { margin-top: 20px; max-width: 1200px; }
.qr-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 20px; }
.qr-card { text-align: center; padding: 10px; border: 1px solid #ddd; border-radius: 5px; background: white; }
.qr-card img { width: 120px; height: 120px; }
@media print {
  body { background: white; }
  .btn { display: none; }
  .qr-grid { gap: 10px; }
  .qr-card { border: none; }
}
</style>
</head>
<body>

<!-- Ø¯Ø± ØªÙ…Ø§Ù… ØµÙØ­Ø§Øª Ø¨Ø§Ù„Ø§ Ù‚Ø¨Ù„ Ø§Ø² <div class="container"> -->
<div id="navbar-placeholder"></div>


<div class="container">
  <h1 class="text-center mb-4">ğŸ“¦ Ø¨Ø±Ú†Ø³Ø¨ QR Ù…Ø­ØµÙˆÙ„Ø§Øª</h1>
  <div class="mb-3 text-center">
    <button class="btn btn-success" onclick="window.print()">ğŸ–¨ï¸ Ú†Ø§Ù¾ Ø¨Ø±Ú¯Ù‡</button>
  </div>
  <div class="qr-grid" id="qrGrid"></div>
</div>

<script>
const apiUrl = 'http://localhost:3000/api/products';

async function fetchProducts() {
  try {
    const res = await fetch(apiUrl);
    const products = await res.json();
    renderQRGrid(products);
  } catch (e) {
    alert('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù…Ø­ØµÙˆÙ„Ø§Øª');
  }
}

function renderQRGrid(products) {
  const container = document.getElementById('qrGrid');
  container.innerHTML = products.map(p => `
    <div class="qr-card">
      <img src="http://localhost:3000/${p.qr_code}" alt="QR ${p.name}">
      <div class="mt-2"><strong>${p.name}</strong></div>
      <div>${p.sku}</div>
    </div>
  `).join('');
}

fetchProducts();
</script>


<!-- mnu -->
<script src="assets/js/menu.js"></script>

</body>
</html>
